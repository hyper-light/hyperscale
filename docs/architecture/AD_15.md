---
ad_number: 15
name: Tiered Update Strategy for Cross-DC Stats
description: Use tiered update frequency based on stat criticality
---

# AD-15: Tiered Update Strategy for Cross-DC Stats

**Decision**: Use tiered update frequency based on stat criticality.

**Rationale**:
- Not all stats need real-time updates
- Critical events (completion, failure) need immediate notification
- Aggregate stats can be batched for efficiency
- Detailed stats should be pull-based to avoid overhead

**Tiers**:
| Tier | Stats | Frequency | Transport |
|------|-------|-----------|-----------|
| Immediate | Job completion, failure, critical alerts | Event-driven | TCP push |
| Periodic | Workflow progress, aggregate rates | Every 1-5s | TCP batch |
| On-Demand | Step-level stats, historical data | Client request | TCP pull |

**Implementation**:
- `_send_immediate_update()` for tier 1 events
- `_batch_stats_loop()` aggregates tier 2 stats periodically
- `receive_job_status_request()` fetches tier 3 on demand
